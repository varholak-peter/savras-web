{"version":3,"sources":["components/Layout/index.ts","api/getData.ts","components/Icon/Archive.tsx","components/Icon/Close.tsx","styles/theme.ts","components/Card/styled.ts","components/Card/index.tsx","util/index.ts","pages/Home/styled.ts","pages/Home/index.tsx","api/markArchived.ts","api/markDone.ts","styles/global.ts","App.tsx","index.tsx"],"names":["Layout","styled","div","getData","options","a","endpoint","process","Error","query","qs","stringify","fetch","res","json","data","Archive","props","xmlns","height","viewBox","width","d","fill","Close","theme","color","palette","primary","background","light","text","dark","grey","spacing","topBottom","rightLeft","Author","span","Button","button","ContentLink","ContentWrap","Controls","Description","p","Footer","footer","Source","Time","time","Title","strong","Wrap","Card","author","description","isArchived","isCompleted","onArchive","onClose","source","timeRaw","title","url","href","target","onClick","type","dateTime","dayjs","extend","relativeTime","formatData","map","date","id","fromNow","ControlsButton","Header","header","StatusText","h1","TitleCapital","TitleRest","CardList","HomePage","useState","cardFilter","setCardFilter","status","setStatus","setData","useEffect","archived","loadData","catch","err","String","card","key","encodeURIComponent","method","markArchived","filter","entry","markDone","GlobalStyles","createGlobalStyle","App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.652f4352.chunk.js","sourcesContent":["import styled from 'styled-components'\n\nexport const Layout = styled.div``\n","import qs from 'querystring'\n\nexport type Options = {\n  archived?: boolean\n  completed?: boolean\n}\n\nexport type DataRes = {\n  author: string\n  date: string\n  description: string\n  id: string\n  isArchived: boolean\n  isCompleted: boolean\n  source: string\n  title: string\n  url: string\n}\n\nexport const getData = async (options?: Options): Promise<DataRes[]> => {\n  const endpoint = process.env.REACT_APP_ENDPOINT\n\n  if (!endpoint) {\n    throw new Error('REACT_APP_ENDPOINT must be present')\n  }\n\n  const query = qs.stringify(options)\n\n  const res = await fetch(`${endpoint}${query && `?${query}`}`)\n  const data = await res.json()\n\n  return data\n}\n","import React, { FC, SVGProps } from 'react'\n\ntype Props = SVGProps<SVGSVGElement>\n\nexport const Archive: FC<Props> = (props) => (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    height=\"24\"\n    viewBox=\"0 0 24 24\"\n    width=\"24\"\n    {...props}\n  >\n    <path d=\"M0 0h24v24H0z\" fill=\"none\" />\n    <path d=\"M20.54 5.23l-1.39-1.68C18.88 3.21 18.47 3 18 3H6c-.47 0-.88.21-1.16.55L3.46 5.23C3.17 5.57 3 6.02 3 6.5V19c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V6.5c0-.48-.17-.93-.46-1.27zM12 17.5L6.5 12H10v-2h4v2h3.5L12 17.5zM5.12 5l.81-1h12l.94 1H5.12z\" />\n  </svg>\n)\n","import React, { FC, SVGProps } from 'react'\n\ntype Props = SVGProps<SVGSVGElement>\n\nexport const Close: FC<Props> = (props) => (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    height=\"24\"\n    viewBox=\"0 0 24 24\"\n    width=\"24\"\n    {...props}\n  >\n    <path d=\"M0 0h24v24H0z\" fill=\"none\" />\n    <path d=\"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z\" />\n  </svg>\n)\n","const spacingStep = 0.25\n\nexport const theme = {\n  color: {\n    palette: {\n      primary: '#42aaf4',\n    },\n    background: {\n      light: '#fff',\n    },\n    text: {\n      dark: '#050d11',\n      grey: '#666',\n      light: '#fff',\n    },\n  },\n  spacing: (topBottom: number, rightLeft?: number) =>\n    rightLeft\n      ? `${topBottom * spacingStep}rem ${rightLeft * spacingStep}rem`\n      : `${topBottom * spacingStep}rem`,\n}\n","import styled from 'styled-components'\n\nimport { theme } from 'styles/theme'\n\nexport const Author = styled.span`\n  color: ${theme.color.text.grey};\n  font-size: 0.6rem;\n  font-weight: 400;\n  margin-left: auto;\n`\n\nexport const Button = styled.button`\n  padding: ${theme.spacing(2)};\n`\n\nexport const ContentLink = styled.a`\n  text-decoration: none;\n  width: 100%;\n`\n\nexport const ContentWrap = styled.div`\n  align-items: flex-start;\n  display: flex;\n  flex-direction: row;\n`\n\nexport const Controls = styled.span`\n  display: flex;\n  flex-direction: column;\n  position: absolute;\n  right: 0;\n  top: 0;\n`\n\nexport const Description = styled.p`\n  color: ${theme.color.text.dark};\n  display: -webkit-box;\n  font-size: 0.7rem;\n  font-weight: 400;\n  margin: 0;\n  max-height: 3.9rem;\n  overflow: hidden;\n  -webkit-line-clamp: 3;\n  -webkit-box-orient: vertical;\n`\n\nexport const Footer = styled.footer`\n  display: flex;\n  flex-direction: row;\n`\n\nexport const Source = styled.span`\n  color: ${theme.color.text.grey};\n  font-size: 0.6rem;\n  font-weight: 400;\n  margin-left: ${theme.spacing(1)};\n\n  &:before {\n    content: 'â€¢';\n    margin-right: ${theme.spacing(1)};\n  }\n`\n\nexport const Time = styled.time`\n  color: ${theme.color.text.grey};\n  font-size: 0.6rem;\n  font-weight: 400;\n`\n\nexport const Title = styled.strong`\n  color: ${theme.color.text.dark};\n  display: -webkit-box;\n  font-size: 0.9rem;\n  line-height: 1.2;\n  margin-bottom: ${theme.spacing(2)};\n  max-width: calc(100% - ${theme.spacing(5)});\n  overflow: hidden;\n  -webkit-line-clamp: 3;\n  -webkit-box-orient: vertical;\n`\n\nexport const Wrap = styled.div`\n  background-color: ${theme.color.background.light};\n  border-radius: 0.5rem;\n  margin-bottom: ${theme.spacing(2)};\n  padding: ${theme.spacing(2)};\n  position: relative;\n`\n","import React, { ComponentProps, FC } from 'react'\n\nimport { Archive, Close } from 'components/Icon'\n\nimport * as S from './styled'\n\nexport type CardData = {\n  author: string\n  description: string\n  id: string\n  isArchived: boolean\n  isCompleted: boolean\n  source: string\n  time: string\n  timeRaw: string\n  title: string\n  url: string\n}\n\ntype Props = CardData & {\n  onArchive: ComponentProps<typeof S.Button>['onClick']\n  onClose: ComponentProps<typeof S.Button>['onClick']\n}\n\nexport const Card: FC<Props> = ({\n  author,\n  description,\n  isArchived,\n  isCompleted,\n  onArchive,\n  onClose,\n  source,\n  time,\n  timeRaw,\n  title,\n  url,\n}) => (\n  <S.Wrap>\n    <S.ContentWrap>\n      <S.ContentLink href={url} target=\"_blank\">\n        <S.Title>{title}</S.Title>\n        <S.Description>{description}</S.Description>\n      </S.ContentLink>\n      <S.Controls>\n        {isCompleted ? null : (\n          <S.Button onClick={onClose} type=\"button\">\n            <Close />\n          </S.Button>\n        )}\n        {isArchived ? null : (\n          <S.Button onClick={onArchive} type=\"button\">\n            <Archive />\n          </S.Button>\n        )}\n      </S.Controls>\n    </S.ContentWrap>\n    <hr />\n    <S.Footer>\n      <S.Time dateTime={timeRaw}>{time}</S.Time>\n      <S.Source>{source}</S.Source>\n      <S.Author>{author}</S.Author>\n    </S.Footer>\n  </S.Wrap>\n)\n","import dayjs from 'dayjs'\nimport relativeTime from 'dayjs/plugin/relativeTime'\n\nimport { DataRes } from 'api/getData'\nimport { CardData } from 'components/Card'\n\ndayjs.extend(relativeTime)\n\nexport const formatData = (data: DataRes[]): CardData[] =>\n  data.map(\n    ({\n      author,\n      date,\n      description,\n      id,\n      isArchived,\n      isCompleted,\n      source,\n      title,\n      url,\n    }) => ({\n      author,\n      description,\n      id,\n      isArchived,\n      isCompleted,\n      source,\n      time: dayjs(date).fromNow(true),\n      timeRaw: date,\n      title,\n      url,\n    })\n  )\n","import styled from 'styled-components'\n\nimport { theme } from 'styles/theme'\n\nexport const Controls = styled.span``\n\nexport const ControlsButton = styled.button`\n  color: ${theme.color.text.light};\n`\n\nexport const Header = styled.header`\n  align-items: center;\n  display: flex;\n  justify-content: space-between;\n  padding: ${theme.spacing(0, 3)};\n`\n\nexport const StatusText = styled.strong`\n  color: ${theme.color.text.light};\n  display: inline-block;\n  font-size: 1rem;\n  margin-top: ${theme.spacing(8)};\n  text-align: center;\n`\n\nexport const Title = styled.h1`\n  color: ${theme.color.text.light};\n  margin: 0;\n`\n\nexport const TitleCapital = styled.span`\n  font-size: 2rem;\n  font-weight: bold;\n`\n\nexport const TitleRest = styled.span`\n  font-size: 1.6rem;\n  font-weight: 300;\n`\n\nexport const CardList = styled.div`\n  align-items: stretch;\n  display: flex;\n  flex-direction: column;\n  margin-top: ${theme.spacing(2)};\n  padding: ${theme.spacing(0, 2)};\n`\n","import React, { useEffect, useState } from 'react'\n\nimport { getData, markArchived, markDone } from 'api'\nimport { Card, CardData } from 'components/Card'\nimport { Archive } from 'components/Icon'\nimport { formatData } from '../../util'\n\nimport * as S from './styled'\n\ntype CardFilter = 'all' | 'archived'\n\nexport const HomePage = () => {\n  const [cardFilter, setCardFilter] = useState<CardFilter>('all')\n  const [status, setStatus] = useState('')\n  const [data, setData] = useState<CardData[]>([])\n\n  useEffect(() => {\n    setStatus(`Loading ${cardFilter} cards`)\n\n    const loadData = async () => {\n      const res = await getData(\n        cardFilter === 'archived' ? { archived: true } : {}\n      )\n      setData(formatData(res))\n      setStatus('')\n    }\n\n    loadData().catch((err) => {\n      setStatus(String(err))\n    })\n  }, [cardFilter])\n\n  return (\n    <>\n      <S.Header>\n        <S.Title>\n          <S.TitleCapital>S</S.TitleCapital>\n          <S.TitleRest>avras</S.TitleRest>\n        </S.Title>\n        <S.Controls>\n          <S.ControlsButton\n            onClick={() => {\n              setCardFilter('archived')\n            }}\n            type=\"button\"\n          >\n            <Archive height={36} width={36} />\n          </S.ControlsButton>\n        </S.Controls>\n      </S.Header>\n      <S.CardList>\n        {status ? (\n          <S.StatusText>{status}</S.StatusText>\n        ) : (\n          data.map((card) => (\n            <Card\n              key={card.id}\n              {...card}\n              onArchive={() => {\n                const { id } = card\n                markArchived(id)\n                setData(data.filter((entry) => entry.id !== id))\n              }}\n              onClose={() => {\n                const { id } = card\n                markDone(id)\n                setData(data.filter((entry) => entry.id !== id))\n              }}\n            />\n          ))\n        )}\n      </S.CardList>\n    </>\n  )\n}\n","export const markArchived = (id: string) => {\n  const endpoint = process.env.REACT_APP_ENDPOINT\n\n  if (!endpoint) {\n    throw new Error('REACT_APP_ENDPOINT must be present')\n  }\n\n  fetch(`${endpoint}/${encodeURIComponent(id)}/archive`, {\n    method: 'PATCH',\n  }).catch((err) => {\n    throw new Error(err)\n  })\n}\n","export const markDone = (id: string) => {\n  const endpoint = process.env.REACT_APP_ENDPOINT\n\n  if (!endpoint) {\n    throw new Error('REACT_APP_ENDPOINT must be present')\n  }\n\n  fetch(`${endpoint}/${encodeURIComponent(id)}`, {\n    method: 'DELETE',\n  }).catch((err) => {\n    throw new Error(err)\n  })\n}\n","import 'sanitize.css'\nimport { createGlobalStyle } from 'styled-components'\n\nexport const GlobalStyles = createGlobalStyle`\n  * {\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n  }\n\n  html {\n    font-family: sans-serif;\n    font-size: 125%;\n    height: 100%;\n  }\n\n  body {\n    background-color: #42aaf4;\n    font-size: 0.8rem;\n    height: 100%;\n  }\n\n  #root {\n    height: 100%;\n    width: 100%;\n  }\n\n  button {\n    background: transparent;\n    border: none;\n    cursor: pointer;\n  }\n`\n","import React, { FC } from 'react'\nimport { Layout } from 'components/Layout'\nimport { HomePage } from 'pages/Home'\nimport { GlobalStyles } from 'styles/global'\n\nexport const App: FC = () => (\n  <Layout>\n    <GlobalStyles />\n    <HomePage />\n  </Layout>\n)\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport { ThemeProvider } from 'styled-components'\nimport { App } from 'App'\nimport { theme } from 'styles/theme'\n\nconst renderApp = () => {\n  ReactDOM.render(\n    <ThemeProvider theme={theme}>\n      <App />\n    </ThemeProvider>,\n    document.getElementById('root'),\n  )\n}\n\nif (module.hot) {\n  module.hot.accept('./App', renderApp)\n}\n\nrenderApp()\n"],"sourceRoot":""}